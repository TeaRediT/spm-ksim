## Комп'ютерні системи імітаційного моделювання

## СПм-24-3, **Бобро Владислав Євгенович**

### Лабораторна робота №**1**. Опис імітаційних моделей та проведення обчислювальних експериментів

<br>

### Варіант 2, модель у середовищі NetLogo:

[Climate Change](https://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Earth%20Science/Climate%20Change.nlogo)

## Вдосконалена версія моделі:

<pre>/Lab3/model.nlogox</pre>

<br>

### Вербальний опис моделі:

Модель досліджує глобальні кліматичні зміни через аналіз енергетичного балансу Землі. Основна логіка базується на взаємодії сонячного випромінювання (світла) та інфрачервоного випромінювання (тепла) з атмосферою та поверхнею планети. Світло поглинається поверхнею, перетворюючись на тепло, або відбивається назад у космос (альбедо). Тепло виходить у космос, але може затримуватися молекулами CO2, створюючи парниковий ефект.

У даній роботі використовується **вдосконалена** версія моделі, що містить:

- **Циклічність кута променів:** імітація руху сонця протягом доби.

- **Адаптований Setup:** можливість автоматичної ініціалізації хмар та CO2 для роботи з алгоритмами пошуку.

### Керуючі параметри:

- sun-brightness (слайдер): інтенсивність сонячного потоку.
- albedo (слайдер): здатність поверхні відбивати світло.
- initial-clouds (слайдер): початкова кількість хмар. Замінює ручне натискання кнопок add/remove cloud.
- CO2-amount (параметр): загальна кількість молекул CO2. Замінює дискретне натискання кнопок add/remove CO2.

### Показники роботи моделі (Внутрішні параметри):

- **temperature:** середня температура планети. Використовується як цільова функція для оцінки ефективності підібраних параметрів.

## Налаштування середовища BehaviorSearch:

### Модифікація коду для оптимізації:

Оскільки BehaviorSearch не може взаємодіяти з кнопками інтерфейсу, у блоці globals було оголошено змінну CO2-amount, а у процедуру setup додано логіку для автоматичного створення агентів:

```nlogo
globals [
  sky-top      ;; y coordinate of top row of sky
  earth-top    ;; y coordinate of top row of earth
  temperature  ;; overall temperature
  CO2-amount
]

to setup
  clear-all
  setup-world
  set temperature 12
  repeat initial-clouds [ add-cloud ]     ;; Автоматизація хмар
  repeat (CO2-amount / 25) [ add-CO2 ]    ;; Автоматизація CO2 (крок 25 одиниць)
  reset-ticks
end
```

### Параметри моделі (вкладка Model):

- **Parameter Specification:**

Параметр CO2-amount додано вручну, оскільки він керується кнопками, а не слайдером.

<pre> ["sun-brightness" [0 0.2 5]] ["albedo" [0 0.05 1]] ["initial-clouds" [0 1 10]] ["CO2-amount" [0 25 250]] </pre>

- **Measure:** temperature

- **Step limit:** 1000 - достатня тривалість, щоб система встигла стабілізуватися після зміни параметрів і парниковий ефект проявився повною мірою.

Загальний вигляд вкладки налаштувань параметрів моделі:

![1](/Lab3/imgs/1.png)

### Налаштування цільової функції (Search Objective):

**Goal:** Maximize Fitness
Мета знайти умови "найгіршого сценарію" (максимального нагріву).

**Collected measure:** AT_FINAL_STEP
Нам важливо, до якої позначки підніметься температура в кінці заданого періоду, а не її середнє значення за весь час.

**Replications:** 10
Оскільки хмари та промені в моделі з'являються випадково, ми запускаємо кожну комбінацію 10 разів. Це нівелює фактор везіння та гарантує, що результат об'єктивний.

Загальний вигляд вкладки налаштувань цільової функції:

![2](/Lab3/imgs/2.png)

### Налаштування алгоритмів пошуку (Search Algorithm):

Встановлено однаковий ліміт у 300 запусків для обох алгоритмів (StandardGA та RandomSearch).
Це забезпечує рівні умови порівняння: генетичний алгоритм використовує ці спроби для еволюційного відбору,
а випадковий пошук — для широкого охоплення простору параметрів.

![3](/Lab3/imgs/3.png)

![4](/Lab3/imgs/4.png)

## Результати використання BehaviorSearch:

Результат пошуку параметрів імітаційної моделі, використовуючи генетичний алгоритм:

![fitness1](/Lab3/imgs/fitness1.png)

Результат пошуку параметрів імітаційної моделі, використовуючи випадковий пошук:

![fitness2](/Lab3/imgs/fitness2.png)

### Результати Генетичного алгоритму (StandardGA):

Best Fitness: 49,1518

Параметри: sun-brightness = 4.4, albedo = 0, initial-clouds = 1, CO2-amount = 100.

Аналіз графіка: Видно чіткі етапи "еволюції" (ступінчасте зростання). Алгоритм швидко знайшов значення близько 32, а після 150-го прогону здійснив якісний стрибок до стабільного максимуму в 49 градусів.

### Результати Випадкового пошуку (RandomSearch):

Best Fitness: 47,6539

Параметри: sun-brightness = 3.6, albedo = 0, initial-clouds = 0, CO2-amount = 150.

Аналіз графіка: Випадковий пошук знайшов високий результат, але він нижчий за показник ГА. Графік має лише один суттєвий стрибок після 150 прогонів, що свідчить про випадкове потрапляння у вдалу зону, а не про закономірне навчання.

### Роботa імітаційної моделі (використовуючи NetLogo) при знайдених у BehaviorSearch значеннях параметрів StandardGA:

![nlogo1](/Lab3/imgs/nlogo1.png)

### Роботa імітаційної моделі (використовуючи NetLogo) при знайдених у BehaviorSearch значеннях параметрів RandomSearch:

![nlogo2](/Lab3/imgs/nlogo2.png)

## Висновки:

Порівняльна ефективність алгоритмів: Генетичний алгоритм (StandardGA) продемонстрував вищу здатність до спрямованого пошуку, досягнувши показника пристосованості (Fitness) 49,15, тоді як випадковий пошук (RandomSearch) зупинився на позначці 47,65 при порівнянних витратах обчислювального ресурсу. Графік StandardGA чітко відображає процес "навчання" та покращення результатів від покоління до покоління, що підтверджує перевагу еволюційних методів над сліпим перебором у багатовимірному просторі параметрів.

Верифікація: Під час контрольної перевірки знайдених параметрів безпосередньо в інтерфейсі NetLogo було зафіксовано температури до 62.3, що значно перевищує середні показники Fitness. Така розбіжність пояснюється випадковою природою моделі: BehaviorSearch використовує середнє арифметичне з 10 реплікацій для об'єктивної оцінки, тоді як одиничний запуск у NetLogo дозволяє побачити максимальний піковий результат.

Роль параметрів у нагріванні: Експериментально доведено, що вирішальним фактором для екстремального потепління є концентрація парникових газів. Вищий результат у ручному тесті для RandomSearch (62.3) був досягнутий завдяки більшій кількості CO2 (150 молекул проти 100 у GA), що створює потужнішу теплову пастку для інфрачервоного випромінювання.

Практичне значення: Використання засобів BehaviorSearch дозволило автоматизовано знайти "критичні точки" кліматичної системи та змоделювати сценарії катастрофічного перегріву планети, які практично складно виявити шляхом несистематичного ручного підбору параметрів.
